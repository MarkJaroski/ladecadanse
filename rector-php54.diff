
42 files with changes
=====================

1) multi-suppr.php:15

    ---------- begin diff ----------
@@ @@

 $page_titre = "supprimer un élément";
 $page_description = "Suppression d'un élément";
-$extra_css = array("evenement_inc", "lieu_inc", "descriptionlieu_inc");
+$extra_css = ["evenement_inc", "lieu_inc", "descriptionlieu_inc"];
 include("_header.inc.php");

-$tab_types = array("evenement", "lieu", "descriptionlieu", "personne", "salle", "organisateur");
+$tab_types = ["evenement", "lieu", "descriptionlieu", "personne", "salle", "organisateur"];

 /*
  * Vérification et attribution des variables d'URL GET
@@ @@
 }


-$tab_actions = array("confirmation", "suppression");
+$tab_actions = ["confirmation", "suppression"];
 $get['action'] = "suppression";
 if (isset($_GET['action'])) {
     $get['action'] = Validateur::validateUrlQueryValue($_GET['action'], "enum", 1, $tab_actions);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


2) organisateur-edit.php:12

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "ajouter/éditer un organisateur";
-$extra_css = array("formulaires");
+$extra_css = ["formulaires"];

 /*
 * action choisie, ID si édition, val pour (dés)activer l'événement
 * action "ajouter" par défaut
 */
-$tab_actions = array("ajouter", "insert", "editer", "update");
+$tab_actions = ["ajouter", "insert", "editer", "update"];
 $get['action'] = "ajouter";
 $get['idO'] = "idO";
 if (isset($_GET['action']))
@@ @@
 }


-$champs = array('statut' => '', 'nom' => '', 'adresse' => '', 'URL' => '', 'email' => '', 'presentation' => '', "date_ajout" => "");
-$fichiers = array('logo' => '', 'photo' => '');
-$supprimer = array('logo' => '', 'photo' => '');
+$champs = ['statut' => '', 'nom' => '', 'adresse' => '', 'URL' => '', 'email' => '', 'presentation' => '', "date_ajout" => ""];
+$fichiers = ['logo' => '', 'photo' => ''];
+$supprimer = ['logo' => '', 'photo' => ''];

 $afficher_form = true;
 $message_ok = '';
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


3) organisateur.php:21

    ---------- begin diff ----------
@@ @@
 	exit;
 }

-$tab_genre_even = array("fête", "cinéma", "théâtre", "expos", "divers", "tous");
+$tab_genre_even = ["fête", "cinéma", "théâtre", "expos", "divers", "tous"];
 $get['genre_even'] = "tous";
 if (isset($_GET['genre_even']))
 {
@@ @@
 $page_titre = $organisateur->getValue('nom');
 $page_description = "Page de présentation de " . $organisateur->getValue('nom') . " : informations pratiques, description et prochains événements";

-$extra_css = array("menu_lieux");
+$extra_css = ["menu_lieux"];

 include("_header.inc.php");
 include("_menuorganisateurs.inc.php");
@@ @@
 if ($evenements->getNbElements() > 0)
 {
 	$menu_genre .= '<ul id="menu_genre">';
-	$genres_even = array("tous", "fête", "cinéma", "théâtre", "expos", "divers");
+	$genres_even = ["tous", "fête", "cinéma", "théâtre", "expos", "divers"];

 	foreach ($genres_even as $g)
 	{
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


4) organisateurs.php:5

    ---------- begin diff ----------
@@ @@

 $page_titre = "Organisateurs d'événements culturels à Genève et Lausanne : associations, labels, collectifs";
 $page_description = "";
-$extra_css = array("menu_lieux");
+$extra_css = ["menu_lieux"];
 include("_header.inc.php");
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


5) rss.php:5

    ---------- begin diff ----------
@@ @@
 use Ladecadanse\Utils\Validateur;
 use Ladecadanse\Utils\Text;

-$tab_types = array("evenements_auj", "lieu_evenements", 'organisateur_evenements', 'evenements_ajoutes');
+$tab_types = ["evenements_auj", "lieu_evenements", 'organisateur_evenements', 'evenements_ajoutes'];

 $get['type'] = '';
 if (isset($_GET['type']))
@@ @@

 if ($get['type'] == "evenements_auj") {

-	$genres_c = array("fête", "cinéma", "théâtre", "expos", "divers");
+	$genres_c = ["fête", "cinéma", "théâtre", "expos", "divers"];

 	$channel = '<title>La décadanse : événements du jour</title>';
 	$channel .= '<link>'.$site_full_url.'</link>';
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


6) user-edit.php:51

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = $get['action'] . " une personne";
-$extra_css = array("formulaires");
+$extra_css = ["formulaires"];
 include("_header.inc.php");
 ?>

@@ @@

 $verif = new Validateur();

-$champs = array(
+$champs = [
     "pseudo" => '',
     "motdepasse" => '',
     "newPass" => '',
@@ @@
     "signature" => 'pseudo',
     "avec_affiliation" => 'non',
     "statut" => '',
-);
+];



@@ @@
     FROM personne_organisateur
     WHERE personne_organisateur.idPersonne=".$get['idP'];

-    $tab_organisateurs_pers = array();
+    $tab_organisateurs_pers = [];
     if ($get['action'] == "editer" || $get['action'] == "update")
     {

@@ @@

     <ul class="radio" style="display:block">
     <?php
-    $signatures = array("pseudo" => "L'identifiant", "aucune" => "Aucune signature");
+    $signatures = ["pseudo" => "L'identifiant", "aucune" => "Aucune signature"];
         foreach ($signatures as $s => $label)
     {
         $coche = '';
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


7) user-login.php:9

    ---------- begin diff ----------
@@ @@
 	header("Location: index.php"); die();
 }

-$tab_messages = array('faux');
+$tab_messages = ['faux'];

 /**
 * Valeur auto-reçue en cas d'échec dans la vérification du login
@@ @@

 $formTokenName = 'form_token_user_login';

-$champs = array("pseudo" => "", "motdepasse" => "", "memoriser" => "", "origine" => "");
+$champs = ["pseudo" => "", "motdepasse" => "", "memoriser" => "", "origine" => ""];

 $pseudo = '';
 $motdepasse = '';
@@ @@
 }

 $page_titre = "Connexion";
-$extra_css = array("formulaires", "login");
+$extra_css = ["formulaires", "login"];
 include("_header.inc.php");
 ?>
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


8) user-register.php:17

    ---------- begin diff ----------
@@ @@

 $page_titre = "Inscription";
 $page_description = "Création d'un compte sur La décadanse";
-$extra_css = array("formulaires");
+$extra_css = ["formulaires"];
 include("_header.inc.php");
 ?>

@@ @@

     $verif = new Validateur();

-$champs = array("utilisateur" => '',
+$champs = ["utilisateur" => '',
 "motdepasse" => '',
 "motdepasse2" => '',
     'organisateurs' => '',
@@ @@
 "lieu" => '',
 "email" => '',
     "groupe" => ''
-);
+];

 $action_terminee = false;

@@ @@

                     $tab_pers = $connector->fetchArray($req_pers);

-                    $champs = array('gds' => '', 'mot_de_passe' => '');
+                    $champs = ['gds' => '', 'mot_de_passe' => ''];

                     $pass_email = $tab_pers['mot_de_passe'];
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


9) user-reset.php:12

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "Mot de passe oublié";
-$extra_css = array("formulaires", "login");
+$extra_css = ["formulaires", "login"];
 include("_header.inc.php");

-$tab_messages = array('faux');
+$tab_messages = ['faux'];

 ?>

@@ @@

 <?php
 $termine = false;
-$champs = array("pseudo_email" => "");
+$champs = ["pseudo_email" => ""];
 $formTokenName = 'form_token_user_reset';

 $verif = new Validateur();
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


10) user.php:15

    ---------- begin diff ----------
@@ @@
 include("_header.inc.php");


-$tab_elements = array("evenement" => "Événements", "lieu" => "Lieux", 'organisateur' => 'Organisateurs', "description" => "Descriptions");
+$tab_elements = ["evenement" => "Événements", "lieu" => "Lieux", 'organisateur' => 'Organisateurs', "description" => "Descriptions"];

-$tab_type_elements = array("ajouts" => "ajoutés");
+$tab_type_elements = ["ajouts" => "ajoutés"];

 if (isset($_GET['idP']))
 {
@@ @@
 	$get['page'] = 1;
 }

-$tab_tri = array("dateAjout", "idOrganisateur", "idEvenement", "idLieu", "dateEvenement", "date_derniere_modif", "statut",
-    "date_debut", "date_fin", "id", "titre", "groupe", "pseudo");
+$tab_tri = ["dateAjout", "idOrganisateur", "idEvenement", "idLieu", "dateEvenement", "date_derniere_modif", "statut",
+    "date_debut", "date_fin", "id", "titre", "groupe", "pseudo"];

 if (isset($_GET['tri']))
 {
@@ @@
 }


-$tab_ordre = array("asc", "desc");
+$tab_ordre = ["asc", "desc"];
 if (isset($_GET['ordre']))
 {
 	$get['ordre'] = Validateur::validateUrlQueryValue($_GET['ordre'], "enum", 1, $tab_ordre);
@@ @@
         }
 			echo '</ul>';
 			echo '<div class="spacer"><!-- --></div>';
-			$th_evenements = array("dateEvenement" => "Date", "idLieu" => "Lieu", "titre" => "Titre", "dateAjout" => "Date d'ajout", "statut" => "");
+			$th_evenements = ["dateEvenement" => "Date", "idLieu" => "Lieu", "titre" => "Titre", "dateAjout" => "Date d'ajout", "statut" => ""];


 			echo "<table id=\"ajouts\"><tr>";
@@ @@
 			echo '</ul>';
 			echo '<div class="spacer"><!-- --></div>';

-			$th_descriptions = array("idLieu" => "Lieu",  "contenu" => "Contenu", "type" => "Type", "dateAjout" => "Date d'ajout");
+			$th_descriptions = ["idLieu" => "Lieu",  "contenu" => "Contenu", "type" => "Type", "dateAjout" => "Date d'ajout"];

 			echo "<table id=\"ajouts\"><tr>";
 			foreach ($th_descriptions as $att => $th)
@@ @@
     if ($connector->getNumRows($req_lieux) > 0)
 	{

-		$th_lieu = array("idLieu" => "ID",  "nom" => "Nom", "categorie" => "Catégorie", "URL" => "Site web", "description" => "Desc", "dateAjout" => "Date d'ajout");
+		$th_lieu = ["idLieu" => "ID",  "nom" => "Nom", "categorie" => "Catégorie", "URL" => "Site web", "description" => "Desc", "dateAjout" => "Date d'ajout"];

 		echo '<ul id="menu_nb_res">';
 		foreach ($tab_nblignes as $nbl)
@@ @@
     if ($connector->getNumRows($req_lieux) > 0)
 	{

-		$th_lieu = array("idOrganisateur" => "ID",  "nom" => "Nom", "URL" => "Site web", "dateAjout" => "Date d'ajout");
+		$th_lieu = ["idOrganisateur" => "ID",  "nom" => "Nom", "URL" => "Site web", "dateAjout" => "Date d'ajout"];

 		echo '<ul id="menu_nb_res">';
 		foreach ($tab_nblignes as $nbl)
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


11) librairies/Collection.php:7

    ---------- begin diff ----------
@@ @@
 class Collection {

 	public $nom;
-	public $elements = array();
+	public $elements = [];
 	public $connector;

 	function __construct()
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


12) librairies/Edition.php:14

    ---------- begin diff ----------
@@ @@
     public $nom;
     public $firstTime;
 	public $id;
-    public $valeurs = array();
-    public $fichiers = array();
-    public $supprimer = array();
-    public $erreurs = array();
+    public $valeurs = [];
+    public $fichiers = [];
+    public $supprimer = [];
+    public $erreurs = [];
     public $verif;
 	public $action;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


13) librairies/LieuEdition.php:14

    ---------- begin diff ----------
@@ @@

     public $nom;
     public $firstTime;
-    public $valeurs = array();
-    public $fichiers = array();
-    public $supprimer = array();
-    public $supprimer_document = array();
-    public $supprimer_galerie = array();
-    public $supprimer_organisateur = array();
-    public $erreurs = array();
-    public $organisateurs = array();
+    public $valeurs = [];
+    public $fichiers = [];
+    public $supprimer = [];
+    public $supprimer_document = [];
+    public $supprimer_galerie = [];
+    public $supprimer_organisateur = [];
+    public $erreurs = [];
+    public $organisateurs = [];
     public $message;
     public $verif;
     public $action;
@@ @@
         //$this->wizardPage = $wPage;

         $this->valeurs = $champs;
-        $this->valeurs['categorie'] = array();
+        $this->valeurs['categorie'] = [];
         $this->fichiers = $fichiers;

         $this->erreurs = array_merge($champs, $fichiers);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


14) librairies/OrganisateurEdition.php:13

    ---------- begin diff ----------
@@ @@

     public $nom;
     public $firstTime;
-    public $valeurs = array();
-    public $fichiers = array();
-    public $supprimer = array();
-    public $supprimer_document = array();
-    public $supprimer_galerie = array();
-    public $erreurs = array();
+    public $valeurs = [];
+    public $fichiers = [];
+    public $supprimer = [];
+    public $supprimer_document = [];
+    public $supprimer_galerie = [];
+    public $erreurs = [];
     public $message;
     public $verif;
     public $action;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


15) librairies/Security/Sentry.php:103

    ---------- begin diff ----------
@@ @@

         $valide = new Validateur();

-        $erreurs = array();
+        $erreurs = [];
         if ($memoriser)
         {
             $memoriser = true;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


16) librairies/Utils/DbConnector.php:14

    ---------- begin diff ----------
@@ @@

         mysqli_set_charset($this->dbConnection, 'utf8mb4');
         //enregistre la méthode "close" pour qu'elle soit executée une fois le script terminé
-        register_shutdown_function(array(&$this, 'close'));
+        register_shutdown_function([&$this, 'close']);
     }

     public function query(string $requete)
@@ @@

     public function fetchAll($result)
     {
-        $return = array();
+        $return = [];

        while($row = mysqli_fetch_array($result))
        {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


17) librairies/Utils/ImageDriver2.php:55

    ---------- begin diff ----------
@@ @@
         //
         $this->IMGlieux = $this->IMGracine."lieux/";
         $this->IMGlieuxGaleries = $this->IMGlieux."galeries/";
-        $this->formats = array('image/jpeg', 'image/pjpeg','image/gif','image/png', 'image/x-png');
+        $this->formats = ['image/jpeg', 'image/pjpeg','image/gif','image/png', 'image/x-png'];

         if ($IMGtype == "evenement")
         {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


18) librairies/Utils/Text.php:63

    ---------- begin diff ----------
@@ @@

     public static function formatbytes($val, int $digits = 3, $mode = "SI", $bB = "B"): string
     { //$mode == "SI"|"IEC", $bB == "b"|"B"
-        $si = array("", "k", "M", "G", "T", "P", "E", "Z", "Y");
-        $iec = array("", "Ki", "Mi", "Gi", "Ti", "Pi", "Ei", "Zi", "Yi");
+        $si = ["", "k", "M", "G", "T", "P", "E", "Z", "Y"];
+        $iec = ["", "Ki", "Mi", "Gi", "Ti", "Pi", "Ei", "Zi", "Yi"];
         switch (mb_strtoupper($mode))
         {
             case "SI" : $factor = 1000;
@@ @@
         //1 si une balise html vient d'etre ouverte, 0 sinon
         $ouvert = 0;
         //pile stockant les tags htmls rencontre
-        $pileTags = array();
+        $pileTags = [];
         $nivPile = 0;

         while ($t < $limChar)
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


19) librairies/Utils/Validateur.php:12

    ---------- begin diff ----------
@@ @@
      *
      * @var array string
      */
-    public $erreurs = array();
-    public $types = array('texte', 'email', 'nombre', 'date', 'url', 'fichier', 'image');
+    public $erreurs = [];
+    public $types = ['texte', 'email', 'nombre', 'date', 'url', 'fichier', 'image'];

     function valider($valeur_champ, $nom_champ, $type_champ, $longueur_min, $longueur_max, $obligatoire)
     {
@@ @@
      */
     function validerImage($imageSource, $description = '')
     {
-        $allowedmime = array("image/jpeg", "image/pjpeg", "image/gif", "image/png", "image/x-png");
+        $allowedmime = ["image/jpeg", "image/pjpeg", "image/gif", "image/png", "image/x-png"];

         if (in_array($imageSource['type'], $allowedmime))
         {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


20) librairies/Utils/utils_functions.php:11

    ---------- begin diff ----------
@@ @@
 function date_fr($d, $format = "", $affMois = "", $jour_sem = "", $html = true)
 {

-    $Jour = array("dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi");
-    $Mois = array("", "janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre");
+    $Jour = ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"];
+    $Mois = ["", "janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre"];

     $temps = explode(" ", $d);

@@ @@

 function mois2fr($mois)
 {
-    $Mois = array("", "janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre");
+    $Mois = ["", "janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre"];

     if (mb_substr($mois, 0, 1) == "0")
     {
@@ @@

 function date2nomJour($date)
 {
-    $Jour = array("dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi");
+    $Jour = ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"];
     $temps = explode(" ", $date);
     $tabDate = explode("-", $temps[0]);

@@ @@
     $dimanche = date("Y-m-d", mktime(0, 0, 0, $tab_date[1], (int) $tab_date[2] + $j - 1, $tab_date[0]));
     //echo "dimanche:".$dimanche."<br>";

-    return array($lundi, $dimanche);
+    return [$lundi, $dimanche];
 }

 function date_lendemain($date)
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


21) lieu-edit.php:13

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "ajouter/éditer un lieu";
-$extra_css = array("formulaires", "lieu_inc");
+$extra_css = ["formulaires", "lieu_inc"];

-$tab_actions = array("ajouter", "insert", "editer", "update");
+$tab_actions = ["ajouter", "insert", "editer", "update"];
 $get['action'] = "ajouter";
 $get['idL'] = "idL";
 if (isset($_GET['action']))
@@ @@
     exit;
 }

-$champs = array('idpersonne' => '', 'statut' => '', 'nom' => '', 'determinant' => '', 'adresse' => '', 'localite_id' => '', 'region' => '', 'horaire_general' => '', 'organisateurs' => '', 'categorie' => '', 'URL' => '', "dateAjout" => "");
-$fichiers = array('logo' => '', 'photo1' => '', 'image_galerie' => '');
-$supprimer = array('image_galerie' => '');
+$champs = ['idpersonne' => '', 'statut' => '', 'nom' => '', 'determinant' => '', 'adresse' => '', 'localite_id' => '', 'region' => '', 'horaire_general' => '', 'organisateurs' => '', 'categorie' => '', 'URL' => '', "dateAjout" => ""];
+$fichiers = ['logo' => '', 'photo1' => '', 'image_galerie' => ''];
+$supprimer = ['image_galerie' => ''];

 $afficher_form = true;
 $message_ok = '';
@@ @@
         </p>

     <?php
-    $lieu_organisateurs = array();
+    $lieu_organisateurs = [];
     if ($get['action'] == "editer" || $get['action'] == "update")
     {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


22) lieu-salle-edit.php:11

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "ajouter/modifier une salle";
-$extra_css = array("formulaires", "description");
+$extra_css = ["formulaires", "description"];
 include("_header.inc.php");

 /*
 * action choisie, idL et idP si édition
 */
-$tab_actions = array("ajouter", "insert", "editer", "update");
+$tab_actions = ["ajouter", "insert", "editer", "update"];
 $get['action'] = "ajouter";
 if (isset($_GET['action']))
 {
@@ @@
 */
 $verif = new Validateur();

-$champs = array("idLieu" => '', "nom" => '', "emplacement" => '');
+$champs = ["idLieu" => '', "nom" => '', "emplacement" => ''];

 $action_terminee = false;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


23) lieu-text-edit.php:12

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "ajouter/modifier une description/présentation de lieu";
-$extra_css = array("formulaires", "description");
+$extra_css = ["formulaires", "description"];

 /*
 * action choisie, idL et idP si édition
 */
-$tab_actions = array("ajouter", "insert", "editer", "update");
+$tab_actions = ["ajouter", "insert", "editer", "update"];
 $get['action'] = "ajouter";
 if (isset($_GET['action']))
 {
@@ @@
 	$get['action'] = Validateur::validateUrlQueryValue($_GET['action'], "enum", 0, $tab_actions);
 }

-$tab_types = array("description", "presentation");
+$tab_types = ["description", "presentation"];
 if (isset($_GET['type'])) {
     $get['type'] = Validateur::validateUrlQueryValue($_GET['type'], "enum", 0, $tab_types);
 }
@@ @@

 $verif = new Validateur();

-$champs = array("idLieu" => '', "contenu" => '');
+$champs = ["idLieu" => '', "contenu" => ''];

 $action_terminee = false;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


24) lieu.php:23

    ---------- begin diff ----------
@@ @@
 	exit;
 }

-$tab_genre_even = array("fête", "cinéma", "théâtre", "expos", "divers", "tous");
+$tab_genre_even = ["fête", "cinéma", "théâtre", "expos", "divers", "tous"];
 $get['genre_even'] = "tous";
 if (isset($_GET['genre_even']))
 {
@@ @@
     } catch (Exception $e) { header($_SERVER["SERVER_PROTOCOL"]." 400 Bad Request"); exit; }
 }

-$tab_complement = array("evenements");
+$tab_complement = ["evenements"];
 $get['complement'] = "evenements";
 if (isset($_GET['complement']))
 {
@@ @@
     } catch (Exception $e) { header($_SERVER["SERVER_PROTOCOL"]." 400 Bad Request"); exit; }
 }

-$tab_types_description = array("description", "presentation");
+$tab_types_description = ["description", "presentation"];
 $get['type_description'] = "";
 if (isset($_GET['type_description']))
 {
@@ @@
 $page_description = $page_titre." : accès, horaires, description, photos et prochains événements";


-$extra_css = array("menu_lieux", "element_login");
+$extra_css = ["menu_lieux", "element_login"];
 include("_header.inc.php");

 $deb_nom_lieu = mb_strtolower(mb_substr($lieu->getValue('nom'), 0, 1));
@@ @@
         ?>
     <div class="type-<?php echo $type; ?>" <?php echo $type2hide[$type]; ?>>
         <?php
-        $auteurs_de_desc = array();
+        $auteurs_de_desc = [];
         if ($descriptions->loadByType($get['idL'], $type))
         {
             foreach ($descriptions->getElements() as $id => $des)
@@ @@
 	if ($evenements->getNbElements() > 0)
 	{
 		$menu_genre .= '<ul id="menu_genre">';
-		$genres_even = array("tous", "fête", "cinéma", "théâtre", "expos", "divers");
+		$genres_even = ["tous", "fête", "cinéma", "théâtre", "expos", "divers"];

 		foreach ($genres_even as $g)
 		{
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


25) lieux.php:20

    ---------- begin diff ----------
@@ @@

 $page_titre = "Lieux de sorties ".$page_titre_region." : bistrots, salles, bars, restaurants, cinémas,
  théâtres, galeries, boutiques, musées...";
-$extra_css = array("menu_lieux");
+$extra_css = ["menu_lieux"];
 include("_header.inc.php");

 $get['idL'] = "";
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


26) maintenance.php:0

    ---------- begin diff ----------
@@ @@
 <?php
 $protocol = isset($_SERVER['SERVER_PROTOCOL']) ? $_SERVER['SERVER_PROTOCOL'] : '';
-if (!in_array($protocol, array('HTTP/1.1', 'HTTP/2', 'HTTP/2.0'), true))
+if (!in_array($protocol, ['HTTP/1.1', 'HTTP/2', 'HTTP/2.0'], true))
 {
     $protocol = 'HTTP/1.0';
 }
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


27) _header.inc.php:246

    ---------- begin diff ----------
@@ @@

                 <ul>
                     <?php
-                    $menu_principal = array("Agenda" => "evenement-agenda.php", "Lieux" => "lieux.php", "Organisateurs" => "organisateurs.php");
+                    $menu_principal = ["Agenda" => "evenement-agenda.php", "Lieux" => "lieux.php", "Organisateurs" => "organisateurs.php"];

                     foreach ($menu_principal as $nom => $lien)
                     {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


28) _menulieux.inc.php:5

    ---------- begin diff ----------
@@ @@
 $de = "0";
 $vers = "l";

-$tab_statuts = array("actif", "inactif", "ancien");
+$tab_statuts = ["actif", "inactif", "ancien"];
 $get['statut'] = "actif";
 if (isset($_GET['statut']))
 {
@@ @@
     }
 }

-$tab_vues = array("az", "genre", "quartier");
+$tab_vues = ["az", "genre", "quartier"];
 if (isset($_GET['vue']))
 {
     try
@@ @@
 }


-$tab_tranches = array_merge(array_merge(array("ak", "lz", "tout"), array_keys($glo_categories_lieux)), $glo_tab_quartiers);
+$tab_tranches = array_merge(array_merge(["ak", "lz", "tout"], array_keys($glo_categories_lieux)), $glo_tab_quartiers);

 if (isset($_GET['tranche']))
 {
@@ @@


     $aff_menulieux .= ">
-	<td><a href=\"/lieu.php?idL=" . $id . "&amp;" . Utils::urlQueryArrayToString($get, array("idL", "type_description")) . "\">";
+	<td><a href=\"/lieu.php?idL=" . $id . "&amp;" . Utils::urlQueryArrayToString($get, ["idL", "type_description"]) . "\">";

     if (preg_match("/^(Le |La |Les |L')(.*)/", $nomDuLieu, $matches))
     {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


29) _menuorganisateurs.inc.php:1

    ---------- begin diff ----------
@@ @@
 use Ladecadanse\Utils\Utils;
 use Ladecadanse\Utils\Validateur;

-$categoriesVal = array("bistrot", "cinéma", "restaurant", "salle", "galerie", "théâtre", "boutique", "musée", "autre");
+$categoriesVal = ["bistrot", "cinéma", "restaurant", "salle", "galerie", "théâtre", "boutique", "musée", "autre"];

 $de = "0";
 $vers = "l";

-$tab_statuts = array("actif", "inactif", "ancien");
+$tab_statuts = ["actif", "inactif", "ancien"];
 $get['statut'] = "actif";
 if (isset($_GET['statut']))
 { try {
@@ @@
 } catch (Exception $e) { exit; }
 }

-$tab_vues = array("az", "genre");
+$tab_vues = ["az", "genre"];
 if (isset($_GET['vue']))
 {
     try {
@@ @@
 }


-$tab_tranches = array_merge(array("ak", "lz", "tout"), $categoriesVal);
+$tab_tranches = array_merge(["ak", "lz", "tout"], $categoriesVal);
 //printr($tab_tranches);

 if (isset($_GET['tranche']))
@@ @@


 	$aff_menulieux .= ">
-	<td><a href=\"/organisateur.php?".Utils::urlQueryArrayToString($get, array("idO", "type_description"))."&amp;idO=".$id."\">";
+	<td><a href=\"/organisateur.php?".Utils::urlQueryArrayToString($get, ["idO", "type_description"])."&amp;idO=".$id."\">";

 	if (preg_match("/^(Le |La |Les |L')(.*)/", $nomDuLieu, $matches))
 	{
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


30) _navigation_calendrier.inc.php:87

    ---------- begin diff ----------
@@ @@
 	$no_dern_sem_mois = date("W", mktime(0,0,0,$mois_courant,$nb_jours_mois,$annee_courant));


-    $tab_no_jour_sem = Array("0", "1", "2", "3", "4", "5", "6", "0");
+    $tab_no_jour_sem = ["0", "1", "2", "3", "4", "5", "6", "0"];

 	$pas = 1;
 	$no_jour = "01";
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


31) admin/gerer.php:16

    ---------- begin diff ----------
@@ @@
 $page_titre = "gérer";
 require_once '../_header.inc.php';

-$tab_listes = array("evenement" => "Événements", "lieu" => "Lieux", "organisateur" => "Organisateurs", "description" => "Descriptions", "personne" => "Personnes");
+$tab_listes = ["evenement" => "Événements", "lieu" => "Lieux", "organisateur" => "Organisateurs", "description" => "Descriptions", "personne" => "Personnes"];

-$get = array();
+$get = [];

 if (!empty($_GET['element']))
 {
@@ @@
 	$get['page'] = Validateur::validateUrlQueryValue($_GET['page'], "int", 1);
 }

-$tab_tris = array("dateAjout", "date_ajout", "idOrganisateur", "date_derniere_modif", "statut", "date_debut", "date_fin", "id", "titre", "groupe", "pseudo", "idPersonne");
+$tab_tris = ["dateAjout", "date_ajout", "idOrganisateur", "date_derniere_modif", "statut", "date_debut", "date_fin", "id", "titre", "groupe", "pseudo", "idPersonne"];

 $get['tri_gerer'] = "dateAjout";
 if (isset($_GET['tri_gerer']))
@@ @@

 }

-$tab_ordre = array("asc", "desc");
+$tab_ordre = ["asc", "desc"];
 $get['ordre'] = "desc";
 $ordre_inverse = "asc";
 if (isset($_GET['ordre']))
@@ @@
 	$tab_nbdesc = $connector->fetchArray($req_nbdesc);
 	$tot_elements = $tab_nbdesc['total'];

-	$th_descriptions = array("idLieu" => "Lieu",  "contenu" => "Contenu", "dateAjout" => "Date d'ajout", "date_derniere_modif" => "m-à-j");
+	$th_descriptions = ["idLieu" => "Lieu",  "contenu" => "Contenu", "dateAjout" => "Date d'ajout", "date_derniere_modif" => "m-à-j"];

 	echo HtmlShrink::getPaginationString($tot_elements, $get['page'], $get['nblignes'], 1, "", "?" . Utils::urlQueryArrayToString($get, "page") . "&page=");

@@ @@
 	$tab_count = $connector->fetchArray($req_count);
 	$tot_elements = $tab_count['total'];

-	$th_lieu = array("idLieu" => "ID",  "nom" => "Nom", "categorie" => "Catégorie", "URL" => "URL",
-	"description" => "Desc", "dateAjout" => "Créé", "date_derniere_modif" => "Modifié", "statut" => "Statut");
+	$th_lieu = ["idLieu" => "ID",  "nom" => "Nom", "categorie" => "Catégorie", "URL" => "URL",
+	"description" => "Desc", "dateAjout" => "Créé", "date_derniere_modif" => "Modifié", "statut" => "Statut"];

 	echo HtmlShrink::getPaginationString($tot_elements, $get['page'], $get['nblignes'], 1, "", "?element=" . $get['element'] . "&tri_gerer=" . $get['tri_gerer'] . "&ordre=" . $get['ordre'] . "&page=");

@@ @@
 	$tab_count = $connector->fetchArray($req_count);
 	$tot_elements = $tab_count['total'];

-	$th_lieu = array("idOrganisateur" => "ID",  "nom" => "Nom",
-	 "date_ajout" => "Créé", "date_derniere_modif" => "Modifié", "statut" => "Statut");
+	$th_lieu = ["idOrganisateur" => "ID",  "nom" => "Nom",
+	 "date_ajout" => "Créé", "date_derniere_modif" => "Modifié", "statut" => "Statut"];

 	echo HtmlShrink::getPaginationString($tot_elements, $get['page'], $get['nblignes'], 1, "", "?element=" . $get['element'] . "&tri_gerer=" . $get['tri_gerer'] . "&ordre=" . $get['ordre'] . "&page=");

@@ @@

 	$req_pers = $connector->query($sql_pers);

-	$th_lieu = array("idPersonne" => "ID", "pseudo" => "Pseudo",  "email" => "E-mail",  "groupe" => "Groupe",
+	$th_lieu = ["idPersonne" => "ID", "pseudo" => "Pseudo",  "email" => "E-mail",  "groupe" => "Groupe",
 	"dateAjout" => "Création",
 	"statut" => "Statut"
-	);
+	];

 	?>
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


32) admin/gererEvenements.php:16

    ---------- begin diff ----------
@@ @@


 $page_titre = "gérer les événements";
-$extra_css = array("formulaires", "gerer", "chosen.min");
+$extra_css = ["formulaires", "gerer", "chosen.min"];
 require_once '../_header.inc.php';

-$tab_listes = array("evenement" => "Événements", "lieu" => "Lieux", "description" => "Descriptions", "personne" => "Personnes");
+$tab_listes = ["evenement" => "Événements", "lieu" => "Lieux", "description" => "Descriptions", "personne" => "Personnes"];
 $tab_nblignes = [100, 250, 500];

 $get = [];
@@ @@
 	$get['tri_gerer'] = Validateur::validateUrlQueryValue($_GET['tri_gerer'], "enum", 1, ["dateAjout", "date_derniere_modif", "statut", "date_debut","id", "titre", "genre"]);
 }

-$tab_ordre = array("asc", "desc");
+$tab_ordre = ["asc", "desc"];
 $get['ordre'] = "desc";
 $ordre_inverse = "asc";
 if (isset($_GET['ordre']))
@@ @@
 	</div>

 <?php
-$evenements = array();
+$evenements = [];

-$champs = array("genre" => "", "idLieu" => "", "idSalle" => "", "nomLieu" => "", "adresse" => "", "quartier" => "",  "localite_id" => "", "region" => "", "urlLieu" => "", "titre" => "", "description" => "", "ref" => "", "horaire_debut" => "", "horaire_fin" => "", "horaire_complement" => "", "prix" => "", "prelocations" => "", "statut" => "");
+$champs = ["genre" => "", "idLieu" => "", "idSalle" => "", "nomLieu" => "", "adresse" => "", "quartier" => "",  "localite_id" => "", "region" => "", "urlLieu" => "", "titre" => "", "description" => "", "ref" => "", "horaire_debut" => "", "horaire_fin" => "", "horaire_complement" => "", "prix" => "", "prelocations" => "", "statut" => ""];

-$fichiers = array('flyer' => '', 'image' => '');
+$fichiers = ['flyer' => '', 'image' => ''];

 $action_terminee = false;

@@ @@

 	$evenements = $_POST['evenements'];

-	$erreurs = array();
+	$erreurs = [];

 	$totalEv = count($evenements);
 	for ($i = 0; $i < $totalEv; $i++)
@@ @@
 	$evenements = $_POST['evenements'];


-	$champs['organisateurs'] = array();
+	$champs['organisateurs'] = [];
 	if (isset($_POST['organisateurs']))
 		$champs['organisateurs'] = $_POST['organisateurs'];

@@ @@

 	$verif->valider($champs['description'], "description", "texte", 4, 10000, 0);

-	$mimes_acceptes = array("image/jpeg", "image/pjpeg", "image/gif", "image/png", "image/x-png");
+	$mimes_acceptes = ["image/jpeg", "image/pjpeg", "image/gif", "image/png", "image/x-png"];

     $verif->validerFichier($fichiers['flyer'], "flyer", $mimes_images_acceptes, 0);
 	$verif->validerFichier($fichiers['image'], "image", $mimes_images_acceptes, 0);
@@ @@
 			{

 				$imD2 = new ImageDriver2("evenement");
-				$erreur_image = array();
+				$erreur_image = [];
 				$erreur_image[] = $imD2->processImage($_FILES['flyer'], $champs['flyer'], 400, 400);
 				$erreur_image[] = $imD2->processImage($_FILES['flyer'], "s_" . $champs['flyer'], 120, 190, '', 1);

@@ @@
 			{

 				$imD2 = new ImageDriver2("evenement");
-				$erreur_image = array();
+				$erreur_image = [];
 				$erreur_image[] = $imD2->processImage($_FILES['image'], $champs['image'], 400, 400);
 				$erreur_image[] = $imD2->processImage($_FILES['image'], "s_" . $champs['image'], 120, 190, '', 1);

@@ @@
 <?php

 echo '<div class="spacer"></div>';
-$th_evenements = array("titre" => "Titre", "idLieu" => "Lieu", "dateEvenement" => "Date", "genre" => "Catégorie", "horaire" => "Horaire", "statut" => "Statut",
-"dateAjout" => "Ajouté");
+$th_evenements = ["titre" => "Titre", "idLieu" => "Lieu", "dateEvenement" => "Date", "genre" => "Catégorie", "horaire" => "Horaire", "statut" => "Statut",
+"dateAjout" => "Ajouté"];

 echo "<form method=\"post\" id=\"formGererEvenements\" class='js-submit-freeze-wait' enctype=\"multipart/form-data\" action=\"/admin/gererEvenements.php\">";

@@ @@
 <ul class="radio">
 <?php

-$statuts = array('actif' => '<strong>publié</strong> (visible sur le site)',  'complet' => '<strong>complet</strong> (visible sur le site mais marqué comme étant complet)', 'annule' => '<strong>annulé</strong> (visible sur le site mais marqué comme étant annulé)', 'inactif' => '<strong>dépublié</strong> (non visible sur le site)');
+$statuts = ['actif' => '<strong>publié</strong> (visible sur le site)',  'complet' => '<strong>complet</strong> (visible sur le site mais marqué comme étant complet)', 'annule' => '<strong>annulé</strong> (visible sur le site mais marqué comme étant annulé)', 'inactif' => '<strong>dépublié</strong> (non visible sur le site)'];
 foreach ($statuts as $s => $n)
 {
 	$coche = '';
@@ @@

 <p>
 <?php
-$tab_nomLieu_label = array("for" => "nomLieu");
+$tab_nomLieu_label = ["for" => "nomLieu"];
 echo HtmlShrink::formLabel($tab_nomLieu_label, "Nom du lieu :");
 echo $verif->getErreur("nomLieuIdentique");

-$tab_nomLieu = array("type" => "text", "name" => "nomLieu", "id" => "nomLieu", "size" => "40", "maxlength" => "80", "tabindex" => "9", "value" => "");
+$tab_nomLieu = ["type" => "text", "name" => "nomLieu", "id" => "nomLieu", "size" => "40", "maxlength" => "80", "tabindex" => "9", "value" => ""];
     if (empty($champs['idLieu']))
 {
 	$tab_nomLieu['value'] = sanitizeForHtml($champs['nomLieu']);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


33) admin/index.php:15

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "administration";
-$extra_css = array("admin");
+$extra_css = ["admin"];
 require_once '../_header.inc.php';
 ?>
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


34) app/config.php:101

    ---------- begin diff ----------
@@ @@
 // VIEW
 $glo_menu_pratique = ["Contact" => "/contacteznous.php", "À propos" => "/articles/apropos.php", "Faire un don" => "/articles/faireUnDon.php"];
 $tab_nblignes = [100, 250, 500]; // nb lignes de resultats de listes
-$actions = array("ajouter", "insert", "update", "editer");
+$actions = ["ajouter", "insert", "update", "editer"];

 $iconeSupprimer = "<img src=\"" . $url_images_interface_icons . "delete.png\" alt=\"Supprimer\" title=\"Supprimer\" />";
 $iconeEditer = "<img src=\"" . $url_images_interface_icons . "page_white_edit.png\" alt=\"Éditer\" width=\"16\" height=\"16\" />";
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


35) articles/annoncerEvenement.php:2

    ---------- begin diff ----------
@@ @@
 require_once("../app/bootstrap.php");

 $page_titre = "Annoncer un événement";
-$extra_css = array("apropos");
+$extra_css = ["apropos"];
 include("../_header.inc.php");
 ?>
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


36) contacteznous.php:6

    ---------- begin diff ----------
@@ @@

 $page_titre = "Contact";
 $page_description = "Formulaire pour envoyer un email au webmaster de La décadanse : proposer un événement, poser une question, etc.";
-$extra_css = array("formulaires", "contacteznous");
+$extra_css = ["formulaires", "contacteznous"];

 include("_header.inc.php");
 ?>
@@ @@

     $verif = new Validateur();

-    $champs = array("email" => "", "auteur" => "", "affiliation" => "", "sujet" => "", "contenu" => "");
+    $champs = ["email" => "", "auteur" => "", "affiliation" => "", "sujet" => "", "contenu" => ""];

     $action_terminee = false;

@@ @@
             }

             $verif = new Validateur();
-            $erreurs = array();
+            $erreurs = [];

             $verif->valider($champs['email'], "email", "email", 4, 80, 1);
             $verif->valider($champs['auteur'], "auteur", "texte", 2, 80, 1);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


37) evenement-agenda.php:186

    ---------- begin diff ----------
@@ @@
     ORDER BY dateEvenement ASC";

     $req_dateEven = $connector->query($sql_dateEven);
-    $tab_date_even = array();
+    $tab_date_even = [];
     while ($listeEven = $connector->fetchArray($req_dateEven))
     {
         $tab_date_even[] = $listeEven['dateEvenement'];
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


38) evenement-copy.php:13

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "copier un événement vers d'autres dates";
-$extra_css = array("formulaires", "evenement_inc");
+$extra_css = ["formulaires", "evenement_inc"];

 /*
 * action choisie, ID si collage
 */
-$tab_actions = array("coller");
+$tab_actions = ["coller"];
 $get['action'] = "";

 if (isset($_GET['action']))
@@ @@
 $mois2 = '';
 $annee2 = '';

-$tab_champs = array();
+$tab_champs = [];

 if (!empty($_POST['submit']))
 {
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


39) evenement-edit.php:19

    ---------- begin diff ----------
@@ @@
     $page_description = "Formulaire d'ajout/modification d'un événement dans l'agenda";
 }

-$extra_css = array("formulaires", "evenement_inc");
+$extra_css = ["formulaires", "evenement_inc"];

 /*
 * action choisie, ID si édition
 * action "ajouter" par défaut
 */
-$actions = array("ajouter", "insert", "editer", "update");
+$actions = ["ajouter", "insert", "editer", "update"];
 $get['action'] = "ajouter";

 /*
@@ @@

 $formTokenName = 'form_token_evenement_edit';
 $verif = new Validateur();
-$champs = array("statut" => "", "genre" => "", "titre" => "", "dateEvenement" => "", "idLieu" => 0,
+$champs = ["statut" => "", "genre" => "", "titre" => "", "dateEvenement" => "", "idLieu" => 0,
  "idSalle" => 0, "nomLieu" => "", "adresse" => "", "quartier" => "",  "localite_id" => "", "region" => "", "urlLieu" => "", 'organisateurs' => '', "description" => "", "ref" => "",
-  "horaire_debut" => "", "horaire_fin" => "", "horaire_complement" => "", "price_type" => "", "prix" => "", "prelocations" => "", "user_email" => "", "remarque" => "");
-$fichiers = array('flyer' => '', 'image' => '');
-$supprimer = array();
+  "horaire_debut" => "", "horaire_fin" => "", "horaire_complement" => "", "price_type" => "", "prix" => "", "prelocations" => "", "user_email" => "", "remarque" => ""];
+$fichiers = ['flyer' => '', 'image' => ''];
+$supprimer = [];
 $action_terminee = false;

 if (isset($_POST['formulaire']) && $_POST['formulaire'] === 'ok' )
@@ @@
 		if (!empty($fichiers['flyer']['name']))
 		{
 			$imD2 = new ImageDriver2("evenement");
-			$erreur_image = array();
+			$erreur_image = [];
 			$erreur_image[] = $imD2->processImage($_FILES['flyer'], $champs['flyer'], 600, 600);
 			$erreur_image[] = $imD2->processImage($_FILES['flyer'], "s_" . $champs['flyer'], 120, 190, '', 0);

@@ @@
 		if (!empty($fichiers['image']['name']))
 		{
 			$imD2 = new ImageDriver2("evenement");
-			$erreur_image = array();
+			$erreur_image = [];
 			$erreur_image[] = $imD2->processImage($_FILES['image'], $champs['image'], 600, 600);
 			$erreur_image[] = $imD2->processImage($_FILES['image'], "s_" . $champs['image'], 120, 190, '', 0);

@@ @@
                 <div class="spacer"></div>
         <p>
         <?php
-        $tab_nomLieu_label = array("for" => "nomLieu");
+        $tab_nomLieu_label = ["for" => "nomLieu"];
         echo HtmlShrink::formLabel($tab_nomLieu_label, "Nom du lieu");
         echo $verif->getHtmlErreur("nomLieuIdentique");

-        $tab_nomLieu = array("type" => "text", "name" => "nomLieu", "id" => "nomLieu", "size" => "35", "maxlength" => "60", "value" => "");
+        $tab_nomLieu = ["type" => "text", "name" => "nomLieu", "id" => "nomLieu", "size" => "35", "maxlength" => "60", "value" => ""];
     if (empty($champs['idLieu']))
         {
             $tab_nomLieu['value'] = sanitizeForHtml($champs['nomLieu']);
@@ @@
             <div class="spacer"></div>

         <?php
-        $tab_organisateurs_even = array();
+        $tab_organisateurs_even = [];
         if ($get['action'] == "editer" || $get['action'] == "update")
         {

@@ @@
     <ul class="radio">
     <?php

-    $statuts = array('propose' => '<strong>proposé</strong> (non visible sur le site)', 'actif' => '<strong>publié</strong> (visible sur le site)',  'complet' => '<strong>complet</strong> (visible sur le site mais marqué comme étant complet)', 'annule' => '<strong>annulé</strong> (visible sur le site mais marqué comme étant annulé)', 'inactif' => '<strong>dépublié</strong> (non visible sur le site)');
+    $statuts = ['propose' => '<strong>proposé</strong> (non visible sur le site)', 'actif' => '<strong>publié</strong> (visible sur le site)',  'complet' => '<strong>complet</strong> (visible sur le site mais marqué comme étant complet)', 'annule' => '<strong>annulé</strong> (visible sur le site mais marqué comme étant annulé)', 'inactif' => '<strong>dépublié</strong> (non visible sur le site)'];
     foreach ($statuts as $s => $n)
     {
         if ($s === 'propose' && ($_SESSION['Sgroupe'] > 6 || (!empty($champs['user_email']) && $champs['statut'] != 'propose')))
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


40) evenement-email.php:14

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "Envoyer un événement";
-$extra_css = array("formulaires", "evenement_inc", "email_evenement_formulaire");
+$extra_css = ["formulaires", "evenement_inc", "email_evenement_formulaire"];
 include("_header.inc.php");


@@ @@

 $verif = new Validateur();

-$champs = array("email_destinataire" => '', 'message' => '');
+$champs = ["email_destinataire" => '', 'message' => ''];
 $action_terminee = false;

 if (isset($_POST['formulaire']) && $_POST['formulaire'] === 'ok' )
@@ @@
 	$champs['idEvenement'] = $get['idE'];

 	$verif = new Validateur();
-	$erreurs = array();
+	$erreurs = [];

 	$verif->valider($champs['email_destinataire'], "email_destinataire", "email", 4, 80, 1);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


41) evenement-report.php:23

    ---------- begin diff ----------
@@ @@
 }

 $page_titre = "Signaler une erreur";
-$extra_css = array("formulaires", "evenement_inc");
+$extra_css = ["formulaires", "evenement_inc"];
 include("_header.inc.php");
 ?>

@@ @@
     <?php
     $formTokenName = 'form_token_evenement_report';

-    $tab_type_erreur = array(
+    $tab_type_erreur = [
         "info" => "mauvaise information au sujet de l’événement",
         "enlever" => "événement à enlever",
         "autre" => "autre"
-    );
+    ];

 $verif = new Validateur();

-    $champs = array("type_erreur" => '', 'message' => '', 'name' => '', 'email' => '');
+    $champs = ["type_erreur" => '', 'message' => '', 'name' => '', 'email' => ''];
     $action_terminee = false;

     if (isset($_POST['formulaire']) && $_POST['formulaire'] === 'ok')
@@ @@
         $champs['idEvenement'] = $get['idE'];

         $verif = new Validateur();
-        $erreurs = array();
+        $erreurs = [];

         $verif->valider($champs['message'], "message", "texte", 2, 10000, 1);
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


42) evenement-search.php:7

    ---------- begin diff ----------
@@ @@
 use Ladecadanse\Utils\Validateur;
 use Ladecadanse\Utils\Text;

-$tab_menu_tri = array("pertinence" => "pertinence", "dateEvenement" => "date", "dateAjout" => "date d'ajout");
-$tab_periodes = array("futur", "ancien", "tous");
+$tab_menu_tri = ["pertinence" => "pertinence", "dateEvenement" => "date", "dateAjout" => "date d'ajout"];
+$tab_periodes = ["futur", "ancien", "tous"];

-$get = array();
+$get = [];

 $get['tri'] = "pertinence";
 if (isset($_GET['tri']))
 {
     try {
-        $get['tri'] =  Validateur::validateUrlQueryValue($_GET['tri'], "enum", 1, array("pertinence", "dateEvenement", "dateAjout"));
+        $get['tri'] =  Validateur::validateUrlQueryValue($_GET['tri'], "enum", 1, ["pertinence", "dateEvenement", "dateAjout"]);
     } catch (Exception $e) { header($_SERVER["SERVER_PROTOCOL"]." 400 Bad Request"); exit; }
 }

@@ @@
 	$tab_tous_mots = explode(" ", $mots);


-	$mots_vides = array();
+	$mots_vides = [];
 	if (!$fp = fopen("resources/mots_vides.txt","r"))
 	{
 		echo "Echec de l'ouverture du fichier";
@@ @@


 	$get['mots'] = "";
-	$tab_mots = array();
+	$tab_mots = [];
 	for ($i = 0; $i < sizeof($tab_tous_mots); $i++)
 	{
 		//pour l'url
@@ @@

     if ($nb_mots > 0)
     {
-        $champs_evenement = array("titre", "nomLieu", "description");
+        $champs_evenement = ["titre", "nomLieu", "description"];

         $sql_select = "SELECT SQL_CALC_FOUND_ROWS idEvenement, idPersonne, titre, idLieu, idSalle, nomLieu, description, genre, dateEvenement,
         flyer, prix, horaire_debut, horaire_complement, dateAjout
@@ @@
 	{
 		if ($get['tri'] == "pertinence")
 		{
-			$even_points = array();
+			$even_points = [];

 			$p = 0;
    ----------- end diff -----------

Applied rules:
 * LongArrayToShortArrayRector


 [OK] 42 files would have been changed (dry-run) by Rector                                                             

 [WARNING] Skipped rule "Rector\Php53\Rector\FuncCall\DirNameFileConstantToDirConstantRector" is never registered. You 
           can remove it from "->withSkip()"                                                                           

